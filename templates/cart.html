{% extends "layout.html" %}

{% block title %}
    Cart
{% endblock %}

{% block money %}
    {% if user_cash != 0 %}
        Cash:
        <i class="fas fa-coins"></i>
        {{ user_cash }}
    {% endif %}
{% endblock %}

{% block content %}
    <br>
    <h1 class="h3 mb-3 font-weight-normal" style="position: relative; left: 10px;">
    Cart
    </h1>
    <br>
    <table class="table table-hover table-dark" >
        <thead>
            <tr>
                <th scope="col" style="text-align:center">Product Name</th>
                <th scope="col" style="text-align:center">Price (HKD)</th>
                <th scope="col" style="text-align:center">Discount (%)</th>
                <th scope="col" colspan="2" style="text-align:center">Action</th>
            </tr>
        </thead>

        <tbody>
            {% for item in cart_items %}
            <tr>
                <td style="text-align:center"> {{ item["name"] }}</td>
                <td style="text-align:center"> ${{ item["price"] }} </td>
                <td style="text-align:center"> {{ (item["discount"]*100) }}% </td>
                <td style="text-align:center">
                    <a href="{{ url_for('cart', remove_product_id=item["id"])}}" class="btn btn-outline btn-info" role="button" aria-disabled="true">Remove</a>
                </td>
            </tr>
            {% endfor %}

            <tr class="table-secondary" style="color:black;">
                <th scope="row" colspan="1" style="text-align:center">Total Price (HKD)</th>
                <td style="text-align:center">${{ cart_total_price }}</td>
                <td style="text-align:center"></td>
                <td style="text-align:center"></td>
            </tr>
        </tbody>
    </table>
    <div style="position:relative; text-align:center;">
    <a href="/buy" class="btn btn-outline btn-lg btn-info" role="button" aria-disabled="true">Confirm Purchase</a>
    </div>
{% endblock %}