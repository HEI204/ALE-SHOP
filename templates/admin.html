{% extends "layout.html" %}

{% block style %}
        <style>
            .container {
                text-align: center;
                margin-top:50px;
            }

            .container h1 {
                text-align: left;
            }

            .container a[href="/add_product"] {
                display: block;
                margin-top: 25px;
            }

            table {
                text-align: center;
            }

            thead {
                background-color: black;
                color: white;
            }
        </style>
{% endblock %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
    <div class="container">
        <h1 class="h3 mb-3 font-weight-normal">Admin Dashboard</h1>
        <hr>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">Product Name</th>
                    <th scope="col">Price (HKD)</th>
                    <th scope="col">Discount (%)</th>
                    <th scope="col">Stocks</th>
                    <th scope="col" colspan="2">Action</th>
                </tr>
            </thead>

            <tbody>
                {% for product in market_info %}
                <tr>
                    <td>{{ product["name"] }}</td>
                    <td>${{ product["price"] }} </td>
                    <td>{{ (product["discount"]*100) }}% </td>
                    <td>{{ product["stock"] }} </td>
                    <td>
                        <a href="{{ url_for('update_product_info', selected_product_name=product["name"])}}" class="btn btn-outline btn-info" role="button" aria-disabled="true">Update</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <a href="/add_product" class="btn btn-outline btn-primary" role="button" aria-disabled="true">Add New Product</a>
    </div>
{% endblock %}